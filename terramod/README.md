seprate environment management and module definations

